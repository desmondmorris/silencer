// Generated by CoffeeScript 1.5.0
(function() {

  $(function() {
    var addTerm, hideChild, myFilteredTerms, reservedWords, term, tweet, tweets, tweetsArray, tweetsLength, _i, _len, _results;
    reservedWords = ["favorite", "like", "retweet", "reply", "view summary", "expand", "view conversation"];
    myFilteredTerms = ["4sq.com", "vine.co", "@vine", "Andrew Hyde", "@andrewhyde", "#sxsw", "#sxsw2013", "SXSW", "humblebrag", "who.unfollowed.me", "Pope", "Google Reader", "Samsung", "@ttunguz", "@chexee", "rape"];
    hideChild = function(child) {
      return child.hide();
    };
    addTerm = function(newTerm, myFilteredTerms) {
      myFilteredTerms.push(newTerm);
      return console.log(myFilteredTerms);
    };
    chrome.extension.onMessage.addListener(function(message, sender, sendResponse) {
      var newFilteredTermList;
      console.log(message);
      if (message !== "showTerms") {
        newFilteredTermList = addTerm(message, myFilteredTerms);
        return sendResponse(newFilteredTermList);
      } else {
        return sendResponse(myFilteredTerms);
      }
    });
    if ($(".stream-items").children().length > 0) {
      tweets = $(".stream-items");
      tweetsArray = tweets.children();
      tweetsLength = tweetsArray.length;
      _results = [];
      for (_i = 0, _len = tweetsArray.length; _i < _len; _i++) {
        tweet = tweetsArray[_i];
        _results.push((function() {
          var _j, _len1, _results1;
          _results1 = [];
          for (_j = 0, _len1 = myFilteredTerms.length; _j < _len1; _j++) {
            term = myFilteredTerms[_j];
            if ($(tweet).is(":visible")) {
              if ($($(tweet)).text().toLowerCase().indexOf(term.toLowerCase()) > -1) {
                _results1.push(hideChild($(tweet)));
              } else {
                _results1.push(void 0);
              }
            } else {
              _results1.push(void 0);
            }
          }
          return _results1;
        })());
      }
      return _results;
    }
  });

}).call(this);
